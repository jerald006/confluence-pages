<!DOCTYPE html>
<html>
    <head>
        <title>XeniApp : API List</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">XeniApp</a></span>
                            </li>
                                                    <li>
                                <span><a href="XeniApp_542179373.html">XeniApp</a></span>
                            </li>
                                                    <li>
                                <span><a href="Features---XeniApp_542180062.html">Features - XeniApp</a></span>
                            </li>
                                                    <li>
                                <span><a href="XeniPay_542180763.html">XeniPay</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            XeniApp : API List
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> User d63ff</span>, last modified on Sep 29, 2021
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <h1 id="APIList-Legend">Legend</h1><p><strong>User </strong>- A user for XeniPay is any stakeholder from the supply chain except for the customer. So, a user can be an OTA, Consolidator, or a supplier.</p><p><strong>Admin</strong> - An admin refers to the XeniPay superadmin who has the ability to perform admin related operations such as onboarding an OTA.</p><h1 id="APIList-APIs">APIs</h1><div class="table-wrap"><table data-layout="full-width" data-local-id="582678a3-7e55-42b3-b720-1debb953d9eb" class="confluenceTable"><colgroup><col style="width: 180.0px;"/><col style="width: 180.0px;"/><col style="width: 180.0px;"/><col style="width: 180.0px;"/><col style="width: 180.0px;"/><col style="width: 180.0px;"/><col style="width: 180.0px;"/><col style="width: 180.0px;"/></colgroup><tbody><tr><td data-highlight-colour="#3c78d8" class="confluenceTd"><p><span class="legacy-color-text-inverse">Category</span></p></td><td data-highlight-colour="#3c78d8" class="confluenceTd"><p><span class="legacy-color-text-inverse">Route</span></p></td><td data-highlight-colour="#3c78d8" class="confluenceTd"><p><span class="legacy-color-text-inverse">Consumer</span></p></td><td data-highlight-colour="#3c78d8" class="confluenceTd"><p><span class="legacy-color-text-inverse">Description</span></p></td><td data-highlight-colour="#3c78d8" class="confluenceTd"><p><span class="legacy-color-text-inverse">Input</span></p></td><td data-highlight-colour="#3c78d8" class="confluenceTd"><p><span class="legacy-color-text-inverse">Process</span></p></td><td data-highlight-colour="#3c78d8" class="confluenceTd"><p><span class="legacy-color-text-inverse">Output</span></p></td><td data-highlight-colour="#3c78d8" class="confluenceTd"><p><span class="legacy-color-text-inverse">Notes</span></p></td></tr><tr><td class="confluenceTd"><p>Admin Dashboard</p></td><td class="confluenceTd"><p>/user/invite</p></td><td class="confluenceTd"><p>Admin</p></td><td class="confluenceTd"><p>Invite a user to create an account on the platform</p></td><td class="confluenceTd"><p>email, role</p></td><td class="confluenceTd"><p>Send email invite</p></td><td class="confluenceTd"><p>msg: Email sent</p></td><td class="confluenceTd"><p>Vaibhavâ€™s Point</p><ul><li><p>A Copy of the email should also be sent to xeniapp Admin</p></li><li><p>Need to finalize the content of the email</p></li></ul></td></tr><tr><td class="confluenceTd"><p>User</p></td><td class="confluenceTd"><p>/user/register</p></td><td class="confluenceTd"><p>User</p></td><td class="confluenceTd"><p>Register a user using the invite code</p></td><td class="confluenceTd"><p>name, email, password<br/>Legal Business Name, CRN, Vat No., Address, Postal Code, Industry, Website<br/>Currency, Bank Country, Bank Name, Swift code, Acc. No.</p></td><td class="confluenceTd"><p>Create a new Hedera user wallet<br/>Register the user on the platform<br/>Generate API Keys (if required)</p></td><td class="confluenceTd"><p>msg: Registration Successful</p></td><td class="confluenceTd"><ul><li><p>What is the format of the invite code? Is it different for OTA/Supplier?</p></li><li><p>API Key Format? will the API key expire? Is it just API Key, or will there be any secret associated with it?</p></li><li><p>What encryption is used for storing the password?</p></li></ul></td></tr><tr><td class="confluenceTd"><p>User</p></td><td class="confluenceTd"><p>/user/login</p></td><td class="confluenceTd"><p>User/Admin</p></td><td class="confluenceTd"><p>Login to the application via email and password</p></td><td class="confluenceTd"><p>Email, Password</p></td><td class="confluenceTd"><p>Validates the credentials</p></td><td class="confluenceTd"><p>Name, JWT, role, other details</p></td><td class="confluenceTd"><ul><li><p>How is the user session maintained? Are we storing the user activity like login attempts etc anywhere? </p></li></ul><p /></td></tr><tr><td class="confluenceTd"><p>User</p></td><td class="confluenceTd"><p>/user/details</p></td><td class="confluenceTd"><p>User</p></td><td class="confluenceTd"><p>Get all details related to a user</p></td><td class="confluenceTd"><p>JWT Token</p></td><td class="confluenceTd"><p>Fetch all details from the database</p></td><td class="confluenceTd"><p>Name, Email, Address, Bank Details, API Keys, etc.</p></td><td class="confluenceTd"><ul><li><p>Bank Detaills etc should be editable later on if the user does not provide them while sign up, so we will need an end point to edit it as well</p></li></ul></td></tr><tr><td class="confluenceTd"><p>Booking</p></td><td class="confluenceTd"><p>/booking/create</p></td><td class="confluenceTd"><p>User</p></td><td class="confluenceTd"><p>Allows user to create a booking on XeniPay</p></td><td class="confluenceTd"><p>Booking Details, Booking Id, Type, Refundable<br/>Total Amount, OTA Amount, Supplier Amount, Consolidator Amount</p></td><td class="confluenceTd"><p>Adds Booking Details on HCS<br/>Store Booking Details in Database<br/>Creates a payment request link</p></td><td class="confluenceTd"><p>Booking ID, status, amounts, <br/>Transaction Hash, Payment Link</p></td><td class="confluenceTd"><p>Auto-settle if booking is non-refundable</p></td></tr><tr><td class="confluenceTd"><p>Booking</p></td><td class="confluenceTd"><p>/booking/payment</p></td><td class="confluenceTd"><p>Payment Provider</p></td><td class="confluenceTd"><p>Webhook to confirm payment</p></td><td class="confluenceTd"><p>amount, booking ID</p></td><td class="confluenceTd"><p>Booking payment status updated<br/>Email OTA for payment received<br/>Distribute tokens to required parties</p></td><td class="confluenceTd"><p /></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p>Booking</p></td><td class="confluenceTd"><p>/booking/cancel</p></td><td class="confluenceTd"><p>User</p></td><td class="confluenceTd"><p>Allows user to cancel a booking on XeniPay</p></td><td class="confluenceTd"><p>Booking ID,<br/>OTA Amount, Supplier amt, Consolidator amt</p></td><td class="confluenceTd"><p /></td><td class="confluenceTd"><p /></td><td class="confluenceTd"><p>Auto-settle if booking is non-refundable</p></td></tr><tr><td class="confluenceTd"><p>Booking</p></td><td class="confluenceTd"><p>/booking/rebook</p></td><td class="confluenceTd"><p>User</p></td><td class="confluenceTd"><p>Rebooks a booking with the given Booking ID</p></td><td class="confluenceTd"><p>Booking ID,<br/>OTA Amount, Supplier amt, Consolidator amt</p></td><td class="confluenceTd"><p /></td><td class="confluenceTd"><p /></td><td class="confluenceTd"><p>Not allowed for non-refundable bookings</p></td></tr><tr><td class="confluenceTd"><p>Booking</p></td><td class="confluenceTd"><p>/booking/settle</p></td><td class="confluenceTd"><p>OTA</p></td><td class="confluenceTd"><p>Settles a refundable booking</p></td><td class="confluenceTd"><p /></td><td class="confluenceTd"><p /></td><td class="confluenceTd"><p /></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p>Admin Dashboard</p></td><td class="confluenceTd"><p>/invitation/list</p></td><td class="confluenceTd"><p>Admin</p></td><td class="confluenceTd"><p>See a list of invitations that has been sent</p></td><td class="confluenceTd"><p>Filters: Status, Role, Date, Email,<br/>pageNo, pageSize</p></td><td class="confluenceTd"><p>Search through database for all invitations</p></td><td class="confluenceTd"><p>[Name, Email, Role, Status, Date]</p></td><td class="confluenceTd"><p>VK</p><ul><li><p>On the UI we have Rejected, Approved etc status, how will that happen?</p></li></ul></td></tr><tr><td class="confluenceTd"><p>Admin Dashboard</p></td><td class="confluenceTd"><p>/user/list</p></td><td class="confluenceTd"><p>Admin</p></td><td class="confluenceTd"><p>View all users on the platform</p></td><td class="confluenceTd"><p>Filters: Email, Activation Status,<br/>pageNo, pageSize</p></td><td class="confluenceTd"><p>Search through database for all Users</p></td><td class="confluenceTd"><p>[Name, Email, Role, Status, Balance, Wallet Address]</p></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p>Admin Dashboard</p></td><td class="confluenceTd"><p>/user/deactivate</p></td><td class="confluenceTd"><p>Admin</p></td><td class="confluenceTd"><p>Deactivate a registered user</p></td><td class="confluenceTd"><p>User Id, JWT</p></td><td class="confluenceTd"><p>Set the status of the user as deactive<br/>Send Email to User</p></td><td class="confluenceTd"><p>msg: UserId has been deactivated</p></td><td class="confluenceTd"><p>VK</p><p>Can we delete a User all together?</p><p>Deactivate - Give only read only cash and cashout</p><p /><p /></td></tr><tr><td class="confluenceTd"><p>Admin Dashboard</p></td><td class="confluenceTd"><p>/user/activate</p></td><td class="confluenceTd"><p>Admin</p></td><td class="confluenceTd"><p>Activate a deactivated user</p></td><td class="confluenceTd"><p>User Id, JWT</p></td><td class="confluenceTd"><p>Set the status of the user as active<br/>Send Email to user</p></td><td class="confluenceTd"><p>msg: UserId has been activated</p></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p>Admin Dashboard</p></td><td class="confluenceTd"><p>/xenitoken/status</p></td><td class="confluenceTd"><p>Admin</p></td><td class="confluenceTd"><p>View the status of XeniTokens for the admin</p></td><td class="confluenceTd"><p>JWT</p></td><td class="confluenceTd"><p>Get XeniToken status<br/>Total Supply, Circulation, Admin Balance</p></td><td class="confluenceTd"><p /></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p>Admin Dashboard</p></td><td class="confluenceTd"><p>/user/regenerate</p></td><td class="confluenceTd"><p>Admin</p></td><td class="confluenceTd"><p>Regenerate the API Keys of a user</p></td><td class="confluenceTd"><p>User Id, JWT</p></td><td class="confluenceTd"><p>Regenerate the API Keys for a user<br/>Send Email to user</p></td><td class="confluenceTd"><p /></td><td class="confluenceTd"><p>VK</p><ul><li><p>When new keys are generated, what happens to the old one? Do we have a system to see all the keys etc</p></li></ul></td></tr><tr><td class="confluenceTd"><p>Dashboard</p></td><td class="confluenceTd"><p>/settlement/history</p></td><td class="confluenceTd"><p>Admin</p></td><td class="confluenceTd"><p>View Settlements/day for the last 30 days</p></td><td class="confluenceTd"><p>JWT, startDate, endDate, pageNo, pageSize</p></td><td class="confluenceTd"><p>Fetch Settlements/day on the platform</p></td><td class="confluenceTd"><p>[Date, amount]</p></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p>Dashboard</p></td><td class="confluenceTd"><p>/xenitokens/history</p></td><td class="confluenceTd"><p>Admin</p></td><td class="confluenceTd"><p>View data on XeniToken transfers/day for the last 30 days</p></td><td class="confluenceTd"><p>JWT, startDate, endDate, pageNo, pageSize</p></td><td class="confluenceTd"><p>Fetch the token transfers/day on the platform</p></td><td class="confluenceTd"><p>[Date, amount]</p></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p>Dashboard</p></td><td class="confluenceTd"><p>/redeemed/history</p></td><td class="confluenceTd"><p>Admin</p></td><td class="confluenceTd"><p>View Redeemed Fiat/day on the platform</p></td><td class="confluenceTd"><p>JWT, startDate, endDate, pageNo, pageSize</p></td><td class="confluenceTd"><p>Fetch the redeemed fiat/day on the platform</p></td><td class="confluenceTd"><p>[Date, amount]</p></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p>Dashboard</p></td><td class="confluenceTd"><p>/user/bestseller/list</p></td><td class="confluenceTd"><p>Admin/User</p></td><td class="confluenceTd"><p>Get the bestsellers on the platform or for a particular user.<br/>Bestsellers are the users who have generated the most revenue in the current month.<br/>Most Revenue = Sum(bookings.amount) is highest</p></td><td class="confluenceTd"><p>role, JWT, pageNo, pageSize</p></td><td class="confluenceTd"><p /></td><td class="confluenceTd"><p /></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p>Dashboard</p></td><td class="confluenceTd"><p>/booking/list</p></td><td class="confluenceTd"><p>Admin/User</p></td><td class="confluenceTd"><p>Get a list of the most recent bookings<br/>Admin will be able to see all bookings on the platform</p></td><td class="confluenceTd"><p>JWT, pageNo, pageSize</p></td><td class="confluenceTd"><p /></td><td class="confluenceTd"><p>[Booking ID, Amount, Type, Settlement Status]</p></td><td class="confluenceTd"><p>For users, will provide user specific bookings</p></td></tr><tr><td class="confluenceTd"><p>Dashboard</p></td><td class="confluenceTd"><p>/booking/search</p></td><td class="confluenceTd"><p>Admin/User</p></td><td class="confluenceTd"><p>Search a booking by its ID</p></td><td class="confluenceTd"><p>keyword, JWT</p></td><td class="confluenceTd"><p /></td><td class="confluenceTd"><p>List of Booking Ids matching a given ID</p></td><td class="confluenceTd"><p>For users, will provide user specific bookings</p></td></tr><tr><td class="confluenceTd"><p>Dashboard</p></td><td class="confluenceTd"><p>/booking/details</p></td><td class="confluenceTd"><p>Admin/User</p></td><td class="confluenceTd"><p>Get the details of a specific booking</p></td><td class="confluenceTd"><p>JWT, booking Id</p></td><td class="confluenceTd"><p /></td><td class="confluenceTd"><p>Booking ID, Type, Amount, Booking Status, Settlement Status,<br/>Redeemed Amount, Booking Date, OTA Fees, Consolidator Fees, Supplier Fees</p></td><td class="confluenceTd"><p>For users, will provide user specific bookings</p></td></tr><tr><td class="confluenceTd"><p>Dashboard</p></td><td class="confluenceTd"><p>/settlement/list</p></td><td class="confluenceTd"><p>Admin/User</p></td><td class="confluenceTd"><p>Get a list of latest settlements for the admin or user<br/>Admin will be able to see all settlements on the platform</p></td><td class="confluenceTd"><p>JWT<br/>Filters: Booking Id, Status, Timestamp</p></td><td class="confluenceTd"><p /></td><td class="confluenceTd"><p>[Booking ID, Amount, From, To, Timestamp, Status, Transaction Hash]</p></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p>Dashboard</p></td><td class="confluenceTd"><p>/redeemed/list</p></td><td class="confluenceTd"><p>Admin/User</p></td><td class="confluenceTd"><p>Get list of all redemptions for the admin or user<br/>Admin will be able to see all redemptions on the platform</p></td><td class="confluenceTd"><p>JWT<br/>Filters: Booking Id, Status, Timestamp, userId</p></td><td class="confluenceTd"><p /></td><td class="confluenceTd"><p>[Booking Id, Amount, Timestamp, Status]</p></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p>User Dashboard</p></td><td class="confluenceTd"><p>/user/update</p></td><td class="confluenceTd"><p>User</p></td><td class="confluenceTd"><p>Update user details such as name, bank, company etc.</p></td><td class="confluenceTd"><p>JWT, Details</p></td><td class="confluenceTd"><p /></td><td class="confluenceTd"><p>msg: User details updated</p></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p>User Dashboard</p></td><td class="confluenceTd"><p>/booking/redeem</p></td><td class="confluenceTd"><p>User</p></td><td class="confluenceTd"><p>Select multiple bookings that have been settled and redeem those</p></td><td class="confluenceTd"><p>JWT, [bookingId, amount]</p></td><td class="confluenceTd"><p /></td><td class="confluenceTd"><p /></td><td class="confluenceTd"><p>Currently, we are allowing full redeem. In the future, when partial redeem is required, this API will use the amount field</p></td></tr><tr><td class="confluenceTd"><p>User Dashboard</p></td><td class="confluenceTd"><p>/user/password</p></td><td class="confluenceTd"><p>User</p></td><td class="confluenceTd"><p>Update a user's password</p></td><td class="confluenceTd"><p>Password, JWT</p></td><td class="confluenceTd"><p>Updates the database with the new password</p></td><td class="confluenceTd"><p>msg: Password updated</p></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p>User Dashboard</p></td><td class="confluenceTd"><p>/user/balance</p></td><td class="confluenceTd"><p>User</p></td><td class="confluenceTd"><p>View quick stats about their token</p></td><td class="confluenceTd"><p>JWT</p></td><td class="confluenceTd"><p>Fetch details from the database</p></td><td class="confluenceTd"><p>Settled (Balance), Redeemed, Pending to be redeemed, Pending to be settled</p></td><td class="confluenceTd"><p /></td></tr></tbody></table></div><p />
                    </div>

                                        <div class="pageSection group">
                        <div class="pageSectionHeader">
                            <h2 id="attachments" class="pageSectionTitle">Attachments:</h2>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/542180766/542185649.svg">registerUser.svg</a> (image/svg+xml)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/542180766/542185657.png">registerUser.png</a> (image/png)
                                <br/>
                                                    </div>
                    </div>
                    
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Jun 24, 2024 07:03</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
