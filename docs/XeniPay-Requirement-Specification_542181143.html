<!DOCTYPE html>
<html>
    <head>
        <title>XeniApp : XeniPay Requirement Specification</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">XeniApp</a></span>
                            </li>
                                                    <li>
                                <span><a href="XeniApp_542179373.html">XeniApp</a></span>
                            </li>
                                                    <li>
                                <span><a href="Features---XeniApp_542180062.html">Features - XeniApp</a></span>
                            </li>
                                                    <li>
                                <span><a href="XeniPay_542180763.html">XeniPay</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            XeniApp : XeniPay Requirement Specification
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> User 932ec</span>, last modified by <span class='editor'> User 0148d</span> on Nov 15, 2022
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <div class="plugin-tabmeta-details"><style>[data-colorid=oy7e8kziqe]{color:#97a0af} html[data-color-mode=dark] [data-colorid=oy7e8kziqe]{color:#505968}[data-colorid=o2lsv7opa2]{color:#97a0af} html[data-color-mode=dark] [data-colorid=o2lsv7opa2]{color:#505968}[data-colorid=izwd475fke]{color:#97a0af} html[data-color-mode=dark] [data-colorid=izwd475fke]{color:#505968}[data-colorid=x86ilb91tz]{color:#97a0af} html[data-color-mode=dark] [data-colorid=x86ilb91tz]{color:#505968}[data-colorid=pnkx7pawxd]{color:#97a0af} html[data-color-mode=dark] [data-colorid=pnkx7pawxd]{color:#505968}</style><div class="table-wrap"><table data-layout="default" data-local-id="4a08a6bd-19ee-47de-b115-0d2ee466d1da" class="confluenceTable"><colgroup><col style="width: 167.0px;" /><col style="width: 559.0px;" /></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Target release</strong></p></th><td class="confluenceTd"><p><span data-colorid="oy7e8kziqe">Type // to add a target release date</span></p></td></tr><tr><th class="confluenceTh"><p><strong>Epic</strong></p></th><td class="confluenceTd"><p><span data-colorid="pnkx7pawxd">Type /Jira to add Jira epics and issues</span></p></td></tr><tr><th class="confluenceTh"><p><strong>Document status</strong></p></th><td class="confluenceTd"><p><span class="status-macro aui-lozenge">DRAFT</span></p></td></tr><tr><th class="confluenceTh"><p><strong>Document owner</strong></p></th><td class="confluenceTd"><p><a class="confluence-userlink user-mention" data-account-id="62c7d6dfce5a604dbfb565a6" href="https://xeni-workspace.atlassian.net/wiki/people/62c7d6dfce5a604dbfb565a6?ref=confluence" target="_blank" data-base-url="https://xeni-workspace.atlassian.net/wiki">Vivek Agrawal (Unlicensed)</a> <a class="confluence-userlink user-mention" data-account-id="6333efc27f85f16777a0148d" href="https://xeni-workspace.atlassian.net/wiki/people/6333efc27f85f16777a0148d?ref=confluence" target="_blank" data-base-url="https://xeni-workspace.atlassian.net/wiki">User 0148d</a> </p></td></tr><tr><th class="confluenceTh"><p><strong>Designer</strong></p></th><td class="confluenceTd"><p><span data-colorid="izwd475fke">@ designer</span></p></td></tr><tr><th class="confluenceTh"><p><strong>Tech lead</strong></p></th><td class="confluenceTd"><p><span data-colorid="o2lsv7opa2">@ lead</span></p></td></tr><tr><th class="confluenceTh"><p><strong>Technical writers</strong></p></th><td class="confluenceTd"><p><span data-colorid="x86ilb91tz">@ writers</span></p></td></tr><tr><th class="confluenceTh"><p><strong>QA</strong></p></th><td class="confluenceTd"><p /></td></tr></tbody></table></div></div><style type="text/css">/*<![CDATA[*/
div.rbtoc1719212641947 {padding: 0px;}
div.rbtoc1719212641947 ul {list-style: disc;margin-left: 0px;}
div.rbtoc1719212641947 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class="toc-macro rbtoc1719212641947">
<ul class="toc-indentation">
<li><a href="#XeniPayRequirementSpecification-ProblemStatement">Problem Statement</a></li>
<li><a href="#XeniPayRequirementSpecification-Objective">üéØ Objective</a></li>
<li><a href="#XeniPayRequirementSpecification-ProposedSolution">\uD83D\uDCCA Proposed Solution</a></li>
<li><a href="#XeniPayRequirementSpecification-Stakeholders">üìà Stakeholders</a></li>
<li><a href="#XeniPayRequirementSpecification-SuccessMetrics">üîé Success Metrics</a></li>
<li><a href="#XeniPayRequirementSpecification-Userinteractionanddesign">\uD83C\uDFA8 User interaction and design</a>
<ul class="toc-indentation">
<li><a href="#XeniPayRequirementSpecification-AccountCreationUseCase:">Account Creation Use Case:</a></li>
<li><a href="#XeniPayRequirementSpecification-AccountCreationSequenceDiagram:">Account Creation Sequence Diagram:</a>
<ul class="toc-indentation">
<li><a href="#XeniPayRequirementSpecification-RegisterUser">Register User</a></li>
<li><a href="#XeniPayRequirementSpecification-ActivateUser">Activate User</a></li>
<li><a href="#XeniPayRequirementSpecification-EditUserDetails">Edit User Details</a></li>
<li><a href="#XeniPayRequirementSpecification-GetUserDetails">Get User Details</a></li>
</ul>
</li>
<li><a href="#XeniPayRequirementSpecification-BookingProcedure">Booking Procedure</a>
<ul class="toc-indentation">
<li><a href="#XeniPayRequirementSpecification-BookingStates:">Booking States:</a></li>
<li><a href="#XeniPayRequirementSpecification-BookingStatesSequenceDiagram:">Booking States Sequence Diagram:</a></li>
<li><a href="#XeniPayRequirementSpecification-CreateaBooking">Create a Booking</a></li>
<li><a href="#XeniPayRequirementSpecification-CancelaBooking">Cancel a Booking</a></li>
<li><a href="#XeniPayRequirementSpecification-RebookaBooking">Rebook a Booking</a></li>
<li><a href="#XeniPayRequirementSpecification-SettleaBooking">Settle a Booking</a></li>
<li><a href="#XeniPayRequirementSpecification-CashoutBookings">Cash out Bookings</a></li>
</ul>
</li>
<li><a href="#XeniPayRequirementSpecification-FlowtoRedeemEarningsusingXeniPay">Flow to Redeem Earnings using XeniPay</a></li>
<li><a href="#XeniPayRequirementSpecification-Pre-requisite">Pre-requisite</a></li>
</ul>
</li>
<li><a href="#XeniPayRequirementSpecification-SystemArchitecture">\uD83C\uDFA8 System Architecture</a>
<ul class="toc-indentation">
<li><a href="#XeniPayRequirementSpecification-XeniApp-XeniPay">XeniApp - XeniPay</a></li>
<li><a href="#XeniPayRequirementSpecification-RegisterUser.1">Register User</a></li>
<li><a href="#XeniPayRequirementSpecification-CreateBooking">Create Booking</a></li>
<li><a href="#XeniPayRequirementSpecification-SettleBooking">Settle Booking</a></li>
<li><a href="#XeniPayRequirementSpecification-CancelBooking">Cancel Booking</a></li>
</ul>
</li>
<li><a href="#XeniPayRequirementSpecification-APIList">‚õèÔ∏è API List</a></li>
</ul>
<li><a href="#XeniPayRequirementSpecification-APIs">APIs</a>
<ul class="toc-indentation">
<li><a href="#XeniPayRequirementSpecification-Assumptions">\uD83E\uDD14 Assumptions</a></li>
<li><a href="#XeniPayRequirementSpecification-OpenQuestions">Open Questions</a></li>
<li><a href="#XeniPayRequirementSpecification-DataPointsRequired">Data Points Required</a></li>
</ul>
</li></div><h2 id="XeniPayRequirementSpecification-ProblemStatement"><img class="emoticon emoticon-question" data-emoji-id="atlassian-question_mark" data-emoji-shortname=":question_mark:" data-emoji-fallback=":question_mark:" src="images/icons/emoticons/help_16.png" width="16" height="16" data-emoticon-name="question" alt="(question)"/> Problem Statement</h2><p>Settlement is an issue in the travel industry that spans across the entire travel value chain. The normal settlement time is around 20-40 days due to which it takes a long time for the end customer to get their price settled.</p><h2 id="XeniPayRequirementSpecification-Objective"><img class="emoticon emoticon-blue-star" data-emoji-id="1f3af" data-emoji-shortname=":dart:" data-emoji-fallback="üéØ" src="images/icons/emoticons/72/1f3af.png" width="16" height="16" data-emoticon-name="blue-star" alt="(blue star)"/>&nbsp;Objective</h2><p>To reduce the existing settlement time period so that the end customers can get their price settled and booking records available on a single platform instantly.</p><h2 id="XeniPayRequirementSpecification-ProposedSolution"><img class="emoticon emoticon-blue-star" data-emoji-id="1f4ca" data-emoji-shortname=":bar_chart:" data-emoji-fallback="\uD83D\uDCCA" src="images/icons/emoticons/72/1f4ca.png" width="16" height="16" data-emoticon-name="blue-star" alt="(blue star)"/> Proposed Solution</h2><p>XeniPay is a payment settlement service via which all stakeholders of the travel value chain can get their bookings settled in no time.</p><p>XeniPay is an infrastructure built on top of Hashgraph Hedera that allows instant settlement via XeniTokens that are reflected in the user's Hedera wallet.</p><p>By using the decentralized tokens for storing user balance, XeniPay will help settle ticket claims in real-time by converting Fiat currency to Digital Tokens and vice-versa.</p><p>The benefits of using the ecosystem are:</p><ul><li><p>Instant settlement</p></li><li><p>Accurate settlements</p></li><li><p>Avoids paper-based systems for record keeping</p></li><li><p>Commissions aren't gone unpaid</p></li><li><p>Makes the entire value chain more effective</p></li><li><p>Cost-effective solution</p></li><li><p>Users don't need to chase each other for settlements</p></li></ul><h2 id="XeniPayRequirementSpecification-Stakeholders"><img class="emoticon emoticon-blue-star" data-emoji-id="1f4c8" data-emoji-shortname=":chart_with_upwards_trend:" data-emoji-fallback="üìà" src="images/icons/emoticons/72/1f4c8.png" width="16" height="16" data-emoticon-name="blue-star" alt="(blue star)"/> Stakeholders</h2><p>The stakeholders in the value chain are:</p><ul><li><p>End Customer (Books flights, hotels, holiday packages, etc.)</p></li><li><p>Travel Agent / OTA (Booking Portal Owners)</p></li><li><p>Consolidator (Negotiates with multiple suppliers to block inventory in bulk)</p></li><li><p>Supplier (Inventory/Service Owner)</p></li></ul><h2 id="XeniPayRequirementSpecification-SuccessMetrics"><img class="emoticon emoticon-blue-star" data-emoji-id="1f50e" data-emoji-shortname=":mag_right:" data-emoji-fallback="üîé" src="images/icons/emoticons/72/1f50e.png" width="16" height="16" data-emoticon-name="blue-star" alt="(blue star)"/> Success Metrics</h2><div class="table-wrap"><table data-layout="default" data-local-id="89f8c5dc-0921-46d7-8b38-b2a217de95d3" class="confluenceTable"><colgroup><col style="width: 371.0px;" /><col style="width: 389.0px;" /></colgroup><tbody><tr><th data-highlight-colour="#e6fcff" class="confluenceTh"><p><strong>Goal</strong></p></th><th data-highlight-colour="#e6fcff" class="confluenceTh"><p><strong>Metric</strong></p></th></tr><tr><td class="confluenceTd"><p>Integration of travel agencies for creation of their settlement account on XeniPay</p></td><td class="confluenceTd"><p>Reduces the hassle of record keeping and enables easier settlement redemption.</p></td></tr><tr><td class="confluenceTd"><p /></td><td class="confluenceTd"><p /></td></tr><tr><td class="confluenceTd"><p /></td><td class="confluenceTd"><p /></td></tr></tbody></table></div><h2 id="XeniPayRequirementSpecification-Userinteractionanddesign"><img class="emoticon emoticon-blue-star" data-emoji-id="1f3a8" data-emoji-shortname=":art:" data-emoji-fallback="\uD83C\uDFA8" src="images/icons/emoticons/72/1f3a8.png" width="16" height="16" data-emoticon-name="blue-star" alt="(blue star)"/>&nbsp;User interaction and design</h2><h3 id="XeniPayRequirementSpecification-AccountCreationUseCase:">Account Creation Use Case:</h3><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" loading="lazy" src="attachments/542181143/542184721.png" data-image-src="attachments/542181143/542184721.png" data-height="389" data-width="218" data-unresolved-comment-count="0" data-linked-resource-id="542184721" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20221114-100029.png" data-base-url="https://xeni-workspace.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="542181143" data-linked-resource-container-version="6" data-media-id="4f8b109d-5d1e-4b33-b654-646b8ff9406f" data-media-type="file" /></span><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" loading="lazy" src="attachments/542181143/542185373.png" data-image-src="attachments/542181143/542185373.png" data-height="370" data-width="598" data-unresolved-comment-count="0" data-linked-resource-id="542185373" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20221114-102030.png" data-base-url="https://xeni-workspace.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="542181143" data-linked-resource-container-version="6" data-media-id="93857895-e907-4054-ae3f-570da8b7235c" data-media-type="file" /></span><h3 id="XeniPayRequirementSpecification-AccountCreationSequenceDiagram:">Account Creation Sequence Diagram:</h3><p>The following processes correspond to users on XeniPay:</p><ul><li><p><a class="external-link" href="https://xeniapp.atlassian.net/wiki/spaces/XENIAPP/pages/332824616/User#Register-User" rel="nofollow">Register User</a></p></li><li><p><a class="external-link" href="https://xeniapp.atlassian.net/wiki/spaces/XENIAPP/pages/332824616/User#Activate-User" rel="nofollow">Activate User</a></p></li><li><p><a class="external-link" href="https://xeniapp.atlassian.net/wiki/spaces/XENIAPP/pages/332824616/User#Edit-User-Details" rel="nofollow">Edit User Details</a></p></li><li><p><a class="external-link" href="https://xeniapp.atlassian.net/wiki/spaces/XENIAPP/pages/332824616/User#Get-User-Details" rel="nofollow">Get User Details</a></p></li></ul><h4 id="XeniPayRequirementSpecification-RegisterUser"><u>Register User</u></h4><span class="confluence-embedded-file-wrapper image-center-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-center" width="680" loading="lazy" src="attachments/542181143/542185385.png?width=680" data-image-src="attachments/542181143/542185385.png" data-height="384" data-width="497" data-unresolved-comment-count="0" data-linked-resource-id="542185385" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="registerUser.png" data-base-url="https://xeni-workspace.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="542181143" data-linked-resource-container-version="6" data-media-id="0ce516d2-08cf-4123-a236-926cffdfa51d" data-media-type="file" /></span><h4 id="XeniPayRequirementSpecification-ActivateUser"><u>Activate User</u></h4><span class="confluence-embedded-file-wrapper image-center-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-center" width="680" loading="lazy" src="attachments/542181143/542185329.png?width=680" data-image-src="attachments/542181143/542185329.png" data-height="384" data-width="518" data-unresolved-comment-count="0" data-linked-resource-id="542185329" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="activateUser.png" data-base-url="https://xeni-workspace.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="542181143" data-linked-resource-container-version="6" data-media-id="0644b885-5792-4378-bfcb-ff0b97343a52" data-media-type="file" /></span><h4 id="XeniPayRequirementSpecification-EditUserDetails"><u>Edit User Details</u></h4><span class="confluence-embedded-file-wrapper image-center-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-center" width="680" loading="lazy" src="attachments/542181143/542185317.png?width=680" data-image-src="attachments/542181143/542185317.png" data-height="329" data-width="367" data-unresolved-comment-count="0" data-linked-resource-id="542185317" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="editUser.png" data-base-url="https://xeni-workspace.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="542181143" data-linked-resource-container-version="6" data-media-id="5a1a0369-7454-40ca-a458-912325bdef19" data-media-type="file" /></span><h4 id="XeniPayRequirementSpecification-GetUserDetails"><u>Get User Details</u></h4><span class="confluence-embedded-file-wrapper image-center-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-center" width="680" loading="lazy" src="attachments/542181143/542185437.png?width=680" data-image-src="attachments/542181143/542185437.png" data-height="329" data-width="399" data-unresolved-comment-count="0" data-linked-resource-id="542185437" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="getUser.png" data-base-url="https://xeni-workspace.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="542181143" data-linked-resource-container-version="6" data-media-id="d59ea444-0a58-4fc2-8930-acf22b11b122" data-media-type="file" /></span><h3 id="XeniPayRequirementSpecification-BookingProcedure">Booking Procedure</h3><h4 id="XeniPayRequirementSpecification-BookingStates:">Booking States:</h4><ol start="1"><li><p>Create - No fiat exchanged, No crypto exchanged</p></li><li><p>Settle - No fiat exchanged, Crypto given to users</p></li><li><p>Redeem - Fiat given to users, Crypto taken from users</p></li></ol><p>When a booking is made, it is assumed that the OTA has transferred the fiat payments to our Escrow wallet.</p><p>So, when XeniPay receives a settlement request, the amounts are transferred to users in Crypto - XeniTokens.</p><p>When a user wants to redeem their payment, they make a redeem requests. Upon receiving the request, XeniPay takes the XeniTokens back from the users and gives them Fiat currency instead.</p><h4 id="XeniPayRequirementSpecification-BookingStatesSequenceDiagram:">Booking States Sequence Diagram:</h4><p>The following processes pertain to Booking on XeniPay:</p><ul><li><p><a class="external-link" href="https://xeniapp.atlassian.net/wiki/spaces/XENIAPP/pages/332988509/Bookings#Create-a-Booking" rel="nofollow">Create a Booking</a></p></li><li><p><a class="external-link" href="https://xeniapp.atlassian.net/wiki/spaces/XENIAPP/pages/332988509/Bookings#Cancel-a-Booking" rel="nofollow">Cancel a Booking</a></p></li><li><p><a class="external-link" href="https://xeniapp.atlassian.net/wiki/spaces/XENIAPP/pages/332988509/Bookings#Rebook-a-Booking" rel="nofollow">Rebook a Booking</a></p></li><li><p><a class="external-link" href="https://xeniapp.atlassian.net/wiki/spaces/XENIAPP/pages/332988509/Bookings#Settle-a-Booking" rel="nofollow">Settle a Booking</a></p></li><li><p><a class="external-link" href="https://xeniapp.atlassian.net/wiki/spaces/XENIAPP/pages/332988509/Bookings#Cash-out-Bookings" rel="nofollow">Cash out Booking</a></p></li></ul><h4 id="XeniPayRequirementSpecification-CreateaBooking"><u>Create a Booking</u></h4><span class="confluence-embedded-file-wrapper image-center-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-center" width="680" loading="lazy" src="attachments/542181143/542185569.png?width=680" data-image-src="attachments/542181143/542185569.png" data-height="576" data-width="518" data-unresolved-comment-count="0" data-linked-resource-id="542185569" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="createBooking.png" data-base-url="https://xeni-workspace.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="542181143" data-linked-resource-container-version="6" data-media-id="4b5f768e-8067-4ac9-a1bc-bfe0415c4a6a" data-media-type="file" /></span><h4 id="XeniPayRequirementSpecification-CancelaBooking"><u>Cancel a Booking</u></h4><span class="confluence-embedded-file-wrapper image-center-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-center" width="680" loading="lazy" src="attachments/542181143/542185365.png?width=680" data-image-src="attachments/542181143/542185365.png" data-height="466" data-width="530" data-unresolved-comment-count="0" data-linked-resource-id="542185365" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="cancelBooking.png" data-base-url="https://xeni-workspace.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="542181143" data-linked-resource-container-version="6" data-media-id="a0ace1ce-e6e7-4f59-9828-f8097e7ba263" data-media-type="file" /></span><h4 id="XeniPayRequirementSpecification-RebookaBooking"><u>Rebook a Booking</u></h4><span class="confluence-embedded-file-wrapper image-center-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-center" width="680" loading="lazy" src="attachments/542181143/542185357.png?width=680" data-image-src="attachments/542181143/542185357.png" data-height="466" data-width="555" data-unresolved-comment-count="0" data-linked-resource-id="542185357" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="reBooking.png" data-base-url="https://xeni-workspace.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="542181143" data-linked-resource-container-version="6" data-media-id="1f9db3c1-58ad-49c4-be91-aff281f3a37e" data-media-type="file" /></span><h4 id="XeniPayRequirementSpecification-SettleaBooking"><u>Settle a Booking</u></h4><span class="confluence-embedded-file-wrapper image-center-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-center" width="680" loading="lazy" src="attachments/542181143/542185461.png?width=680" data-image-src="attachments/542181143/542185461.png" data-height="685" data-width="629" data-unresolved-comment-count="0" data-linked-resource-id="542185461" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="settleBooking.png" data-base-url="https://xeni-workspace.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="542181143" data-linked-resource-container-version="6" data-media-id="abfcdfe9-eae3-42f7-b5c7-172052306e3f" data-media-type="file" /></span><h4 id="XeniPayRequirementSpecification-CashoutBookings"><u>Cash out Bookings</u></h4><span class="confluence-embedded-file-wrapper image-center-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-center" width="680" loading="lazy" src="attachments/542181143/542185453.png?width=680" data-image-src="attachments/542181143/542185453.png" data-height="603" data-width="684" data-unresolved-comment-count="0" data-linked-resource-id="542185453" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="cashoutBooking.png" data-base-url="https://xeni-workspace.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="542181143" data-linked-resource-container-version="6" data-media-id="3c8f2765-dd9e-494a-8d9c-6edd42e09da6" data-media-type="file" /></span><h3 id="XeniPayRequirementSpecification-FlowtoRedeemEarningsusingXeniPay">Flow to Redeem Earnings using XeniPay</h3><p>Using XeniPay, OTA can <strong>redeem their earnings for Xeni </strong>so that they <strong>get their money earned instantly</strong>.</p><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" loading="lazy" src="attachments/542181143/542184733.png" data-image-src="attachments/542181143/542184733.png" data-height="674" data-width="629" data-unresolved-comment-count="0" data-linked-resource-id="542184733" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="RedeemEarnings v1.0.0.png" data-base-url="https://xeni-workspace.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="542181143" data-linked-resource-container-version="6" data-media-id="09300711-51d6-422b-9931-dae94a1dbef9" data-media-type="file" /></span><h3 id="XeniPayRequirementSpecification-Pre-requisite">Pre-requisite</h3><ul><li><p><a class="external-link" href="https://vkxeni.atlassian.net/wiki/spaces/X/pages/521404417/Functional+Requirements#Book-my-travel" rel="nofollow">Customer has made a travel booking</a></p></li></ul><h2 id="XeniPayRequirementSpecification-SystemArchitecture"><img class="emoticon emoticon-blue-star" data-emoji-id="1f3a8" data-emoji-shortname=":art:" data-emoji-fallback="\uD83C\uDFA8" src="images/icons/emoticons/72/1f3a8.png" width="16" height="16" data-emoticon-name="blue-star" alt="(blue star)"/>&nbsp;System Architecture </h2><p><a class="external-link" href="https://vkxeni.atlassian.net/wiki/spaces/X/pages/517046273/Architecture+-+Xeni#XeniApp---XeniPay" rel="nofollow">XeniApp - XeniPay</a></p><ul><li><p><a class="external-link" href="https://vkxeni.atlassian.net/wiki/spaces/X/pages/517046273/Architecture+-+Xeni#Register-User-:cross_mark:" rel="nofollow">Register User </a><img class="emoticon emoticon-cross" data-emoji-id="atlassian-cross_mark" data-emoji-shortname=":cross_mark:" data-emoji-fallback=":cross_mark:" src="images/icons/emoticons/error.png" width="16" height="16" data-emoticon-name="cross" alt="(error)"/></p></li><li><p><a class="external-link" href="https://vkxeni.atlassian.net/wiki/spaces/X/pages/517046273/Architecture+-+Xeni#Create-Booking-:cross_mark:" rel="nofollow">Create Booking </a><img class="emoticon emoticon-cross" data-emoji-id="atlassian-cross_mark" data-emoji-shortname=":cross_mark:" data-emoji-fallback=":cross_mark:" src="images/icons/emoticons/error.png" width="16" height="16" data-emoticon-name="cross" alt="(error)"/></p></li><li><p><a class="external-link" href="https://vkxeni.atlassian.net/wiki/spaces/X/pages/517046273/Architecture+-+Xeni#Settle-Booking-:cross_mark:" rel="nofollow">Settle Booking </a><img class="emoticon emoticon-cross" data-emoji-id="atlassian-cross_mark" data-emoji-shortname=":cross_mark:" data-emoji-fallback=":cross_mark:" src="images/icons/emoticons/error.png" width="16" height="16" data-emoticon-name="cross" alt="(error)"/></p></li><li><p><a class="external-link" href="https://vkxeni.atlassian.net/wiki/spaces/X/pages/517046273/Architecture+-+Xeni#Cancel-Booking-:cross_mark:" rel="nofollow">Cancel Booking</a><a class="external-link" href="https://vkxeni.atlassian.net/wiki/spaces/X/pages/517046273/Architecture+-+Xeni#Settle-Booking-:cross_mark:" rel="nofollow" /><img class="emoticon emoticon-cross" data-emoji-id="atlassian-cross_mark" data-emoji-shortname=":cross_mark:" data-emoji-fallback=":cross_mark:" src="images/icons/emoticons/error.png" width="16" height="16" data-emoticon-name="cross" alt="(error)"/></p></li></ul><h3 id="XeniPayRequirementSpecification-XeniApp-XeniPay">XeniApp - XeniPay</h3><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" loading="lazy" src="attachments/542181143/542184753.jpg" data-image-src="attachments/542181143/542184753.jpg" data-height="189" data-width="1001" data-unresolved-comment-count="0" data-linked-resource-id="542184753" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="Screenshot_2022-08-23_12-32-07.jpg" data-base-url="https://xeni-workspace.atlassian.net/wiki" data-linked-resource-content-type="image/jpeg" data-linked-resource-container-id="542181143" data-linked-resource-container-version="6" data-media-id="d15881c6-6b44-4f21-985c-7dfd227dfe28" data-media-type="file" /></span><p>XeniApp interacts with XeniPay for the following operations:</p><h3 id="XeniPayRequirementSpecification-RegisterUser.1">Register User <img class="emoticon emoticon-cross" data-emoji-id="atlassian-cross_mark" data-emoji-shortname=":cross_mark:" data-emoji-fallback=":cross_mark:" src="images/icons/emoticons/error.png" width="16" height="16" data-emoticon-name="cross" alt="(error)"/></h3><p>When a user is created on XeniApp, the details are also sent to XeniPay so that their wallet is created and it can then be used to perform settlement operations.</p><p>When an OTA is created, their secret key and access key is created by XeniPay which the OTAs will send with each request for creating bookings.</p><h3 id="XeniPayRequirementSpecification-CreateBooking">Create Booking <img class="emoticon emoticon-cross" data-emoji-id="atlassian-cross_mark" data-emoji-shortname=":cross_mark:" data-emoji-fallback=":cross_mark:" src="images/icons/emoticons/error.png" width="16" height="16" data-emoticon-name="cross" alt="(error)"/></h3><p>When a booking is created and paid for by the user, the booking information is sent to XeniPay.</p><p>XeniPay then stores the booking details on the Hedera Blockchain.</p><h3 id="XeniPayRequirementSpecification-SettleBooking">Settle Booking <img class="emoticon emoticon-cross" data-emoji-id="atlassian-cross_mark" data-emoji-shortname=":cross_mark:" data-emoji-fallback=":cross_mark:" src="images/icons/emoticons/error.png" width="16" height="16" data-emoticon-name="cross" alt="(error)"/></h3><p>If an OTA wishes to settle their booking manually, they can settle the booking on XeniApp.</p><p>XeniApp then asks XeniPay to settle the OTAs booking.</p><h3 id="XeniPayRequirementSpecification-CancelBooking">Cancel Booking <img class="emoticon emoticon-cross" data-emoji-id="atlassian-cross_mark" data-emoji-shortname=":cross_mark:" data-emoji-fallback=":cross_mark:" src="images/icons/emoticons/error.png" width="16" height="16" data-emoticon-name="cross" alt="(error)"/></h3><p>When a user cancels a booking on XeniApp, the information is sent to XeniPay to cancel the booking and not do settlements for that particular booking.</p><h2 id="XeniPayRequirementSpecification-APIList"><img class="emoticon emoticon-blue-star" data-emoji-id="26cf" data-emoji-shortname=":pick:" data-emoji-fallback="‚õèÔ∏è" src="images/icons/emoticons/72/26cf.png" width="16" height="16" data-emoticon-name="blue-star" alt="(blue star)"/> API List</h2><p><strong>User </strong>- A user for XeniPay is any stakeholder from the supply chain except for the customer. So, a user can be an OTA, Consolidator, or a supplier.</p><p><strong>Admin</strong> - An admin refers to the XeniPay superadmin who has the ability to perform admin related operations such as onboarding an OTA.</p><h1 id="XeniPayRequirementSpecification-APIs">APIs</h1><div class="table-wrap"><table data-layout="full-width" data-local-id="89f98c11-b97c-4974-8da1-153c05511b53" class="confluenceTable"><colgroup><col style="width: 171.0px;" /><col style="width: 157.0px;" /><col style="width: 157.0px;" /><col style="width: 157.0px;" /><col style="width: 157.0px;" /><col style="width: 157.0px;" /><col style="width: 157.0px;" /><col style="width: 157.0px;" /></colgroup><tbody><tr><td data-highlight-colour="#3c78d8" class="confluenceTd"><p><span class="legacy-color-text-inverse">Category</span></p></td><td data-highlight-colour="#3c78d8" class="confluenceTd"><p><span class="legacy-color-text-inverse">Route</span></p></td><td data-highlight-colour="#3c78d8" class="confluenceTd"><p><span class="legacy-color-text-inverse">Consumer</span></p></td><td data-highlight-colour="#3c78d8" class="confluenceTd"><p><span class="legacy-color-text-inverse">Description</span></p></td><td data-highlight-colour="#3c78d8" class="confluenceTd"><p><span class="legacy-color-text-inverse">Input</span></p></td><td data-highlight-colour="#3c78d8" class="confluenceTd"><p><span class="legacy-color-text-inverse">Process</span></p></td><td data-highlight-colour="#3c78d8" class="confluenceTd"><p><span class="legacy-color-text-inverse">Output</span></p></td><td data-highlight-colour="#3c78d8" class="confluenceTd"><p><span class="legacy-color-text-inverse">Notes</span></p></td></tr><tr><td class="confluenceTd"><p>Admin Dashboard</p></td><td class="confluenceTd"><p>/user/invite</p></td><td class="confluenceTd"><p>Admin</p></td><td class="confluenceTd"><p>Invite a user to create an account on the platform</p></td><td class="confluenceTd"><p>email, role</p></td><td class="confluenceTd"><p>Send email invite</p></td><td class="confluenceTd"><p>msg: Email sent</p></td><td class="confluenceTd"><p>Vaibhav&rsquo;s Point</p><ul><li><p>A Copy of the email should also be sent to xeniapp Admin</p></li><li><p>Need to finalize the content of the email</p></li></ul></td></tr><tr><td class="confluenceTd"><p>User</p></td><td class="confluenceTd"><p>/user/register</p></td><td class="confluenceTd"><p>User</p></td><td class="confluenceTd"><p>Register a user using the invite code</p></td><td class="confluenceTd"><p>name, email, password<br />Legal Business Name, CRN, Vat No., Address, Postal Code, Industry, Website<br />Currency, Bank Country, Bank Name, Swift code, Acc. No.</p></td><td class="confluenceTd"><p>Create a new Hedera user wallet<br />Register the user on the platform<br />Generate API Keys (if required)</p></td><td class="confluenceTd"><p>msg: Registration Successful</p></td><td class="confluenceTd"><ul><li><p>What is the format of the invite code? Is it different for OTA/Supplier?</p></li><li><p>API Key Format? will the API key expire? Is it just API Key, or will there be any secret associated with it?</p></li><li><p>What encryption is used for storing the password?</p></li></ul></td></tr><tr><td class="confluenceTd"><p>User</p></td><td class="confluenceTd"><p>/user/login</p></td><td class="confluenceTd"><p>User/Admin</p></td><td class="confluenceTd"><p>Login to the application via email and password</p></td><td class="confluenceTd"><p>Email, Password</p></td><td class="confluenceTd"><p>Validates the credentials</p></td><td class="confluenceTd"><p>Name, JWT, role, other details</p></td><td class="confluenceTd"><ul><li><p>How is the user session maintained? Are we storing the user activity like login attempts etc anywhere?</p></li></ul><p>&nbsp;</p></td></tr><tr><td class="confluenceTd"><p>User</p></td><td class="confluenceTd"><p>/user/details</p></td><td class="confluenceTd"><p>User</p></td><td class="confluenceTd"><p>Get all details related to a user</p></td><td class="confluenceTd"><p>JWT Token</p></td><td class="confluenceTd"><p>Fetch all details from the database</p></td><td class="confluenceTd"><p>Name, Email, Address, Bank Details, API Keys, etc.</p></td><td class="confluenceTd"><ul><li><p>Bank Detaills etc should be editable later on if the user does not provide them while sign up, so we will need an end point to edit it as well</p></li></ul></td></tr><tr><td class="confluenceTd"><p>Booking</p></td><td class="confluenceTd"><p>/booking/create</p></td><td class="confluenceTd"><p>User</p></td><td class="confluenceTd"><p>Allows user to create a booking on XeniPay</p></td><td class="confluenceTd"><p>Booking Details, Booking Id, Type, Refundable<br />Total Amount, OTA Amount, Supplier Amount, Consolidator Amount</p></td><td class="confluenceTd"><p>Adds Booking Details on HCS<br />Store Booking Details in Database<br />Creates a payment request link</p></td><td class="confluenceTd"><p>Booking ID, status, amounts, <br />Transaction Hash, Payment Link</p></td><td class="confluenceTd"><p>Auto-settle if booking is non-refundable</p></td></tr><tr><td class="confluenceTd"><p>Booking</p></td><td class="confluenceTd"><p>/booking/payment</p></td><td class="confluenceTd"><p>Payment Provider</p></td><td class="confluenceTd"><p>Web-hook to confirm payment</p></td><td class="confluenceTd"><p>amount, booking ID</p></td><td class="confluenceTd"><p>Booking payment status updated<br />Email OTA for payment received<br />Distribute tokens to required parties</p></td><td class="confluenceTd"><p>&nbsp;</p></td><td class="confluenceTd"><p>&nbsp;</p></td></tr><tr><td class="confluenceTd"><p>Booking</p></td><td class="confluenceTd"><p>/booking/cancel</p></td><td class="confluenceTd"><p>User</p></td><td class="confluenceTd"><p>Allows user to cancel a booking on XeniPay</p></td><td class="confluenceTd"><p>Booking ID,<br />OTA Amount, Supplier amt, Consolidator amt</p></td><td class="confluenceTd"><p>&nbsp;</p></td><td class="confluenceTd"><p>&nbsp;</p></td><td class="confluenceTd"><p>Auto-settle if booking is non-refundable</p></td></tr><tr><td class="confluenceTd"><p>Booking</p></td><td class="confluenceTd"><p>/booking/rebook</p></td><td class="confluenceTd"><p>User</p></td><td class="confluenceTd"><p>Rebooks a booking with the given Booking ID</p></td><td class="confluenceTd"><p>Booking ID,<br />OTA Amount, Supplier amt, Consolidator amt</p></td><td class="confluenceTd"><p>&nbsp;</p></td><td class="confluenceTd"><p>&nbsp;</p></td><td class="confluenceTd"><p>Not allowed for non-refundable bookings</p></td></tr><tr><td class="confluenceTd"><p>Booking</p></td><td class="confluenceTd"><p>/booking/settle</p></td><td class="confluenceTd"><p>OTA</p></td><td class="confluenceTd"><p>Settles a refundable booking</p></td><td class="confluenceTd"><p>&nbsp;</p></td><td class="confluenceTd"><p>&nbsp;</p></td><td class="confluenceTd"><p>&nbsp;</p></td><td class="confluenceTd"><p>&nbsp;</p></td></tr><tr><td class="confluenceTd"><p>Admin Dashboard</p></td><td class="confluenceTd"><p>/invitation/list</p></td><td class="confluenceTd"><p>Admin</p></td><td class="confluenceTd"><p>See a list of invitations that has been sent</p></td><td class="confluenceTd"><p>Filters: Status, Role, Date, Email,<br />pageNo, pageSize</p></td><td class="confluenceTd"><p>Search through database for all invitations</p></td><td class="confluenceTd"><p>[Name, Email, Role, Status, Date]</p></td><td class="confluenceTd"><p>VK</p><ul><li><p>On the UI we have Rejected, Approved etc status, how will that happen?</p></li></ul></td></tr><tr><td class="confluenceTd"><p>Admin Dashboard</p></td><td class="confluenceTd"><p>/user/list</p></td><td class="confluenceTd"><p>Admin</p></td><td class="confluenceTd"><p>View all users on the platform</p></td><td class="confluenceTd"><p>Filters: Email, Activation Status,<br />pageNo, pageSize</p></td><td class="confluenceTd"><p>Search through database for all Users</p></td><td class="confluenceTd"><p>[Name, Email, Role, Status, Balance, Wallet Address]</p></td><td class="confluenceTd"><p>&nbsp;</p></td></tr><tr><td class="confluenceTd"><p>Admin Dashboard</p></td><td class="confluenceTd"><p>/user/deactivate</p></td><td class="confluenceTd"><p>Admin</p></td><td class="confluenceTd"><p>Deactivate a registered user</p></td><td class="confluenceTd"><p>User Id, JWT</p></td><td class="confluenceTd"><p>Set the status of the user as deactive<br />Send Email to User</p></td><td class="confluenceTd"><p>msg: UserId has been deactivated</p></td><td class="confluenceTd"><p>VK</p><p>Can we delete a User all together?</p><p>Deactivate - Give only read only cash and cashout</p><p>&nbsp;</p><p>&nbsp;</p></td></tr><tr><td class="confluenceTd"><p>Admin Dashboard</p></td><td class="confluenceTd"><p>/user/activate</p></td><td class="confluenceTd"><p>Admin</p></td><td class="confluenceTd"><p>Activate a deactivated user</p></td><td class="confluenceTd"><p>User Id, JWT</p></td><td class="confluenceTd"><p>Set the status of the user as active<br />Send Email to user</p></td><td class="confluenceTd"><p>msg: UserId has been activated</p></td><td class="confluenceTd"><p>&nbsp;</p></td></tr><tr><td class="confluenceTd"><p>Admin Dashboard</p></td><td class="confluenceTd"><p>/xenitoken/status</p></td><td class="confluenceTd"><p>Admin</p></td><td class="confluenceTd"><p>View the status of XeniTokens for the admin</p></td><td class="confluenceTd"><p>JWT</p></td><td class="confluenceTd"><p>Get XeniToken status<br />Total Supply, Circulation, Admin Balance</p></td><td class="confluenceTd"><p>&nbsp;</p></td><td class="confluenceTd"><p>&nbsp;</p></td></tr><tr><td class="confluenceTd"><p>Admin Dashboard</p></td><td class="confluenceTd"><p>/user/regenerate</p></td><td class="confluenceTd"><p>Admin</p></td><td class="confluenceTd"><p>Regenerate the API Keys of a user</p></td><td class="confluenceTd"><p>User Id, JWT</p></td><td class="confluenceTd"><p>Regenerate the API Keys for a user<br />Send Email to user</p></td><td class="confluenceTd"><p>&nbsp;</p></td><td class="confluenceTd"><p>VK</p><ul><li><p>When new keys are generated, what happens to the old one? Do we have a system to see all the keys etc</p></li></ul></td></tr><tr><td class="confluenceTd"><p>Dashboard</p></td><td class="confluenceTd"><p>/settlement/history</p></td><td class="confluenceTd"><p>Admin</p></td><td class="confluenceTd"><p>View Settlements/day for the last 30 days</p></td><td class="confluenceTd"><p>JWT, startDate, endDate, pageNo, pageSize</p></td><td class="confluenceTd"><p>Fetch Settlements/day on the platform</p></td><td class="confluenceTd"><p>[Date, amount]</p></td><td class="confluenceTd"><p>&nbsp;</p></td></tr><tr><td class="confluenceTd"><p>Dashboard</p></td><td class="confluenceTd"><p>/xenitokens/history</p></td><td class="confluenceTd"><p>Admin</p></td><td class="confluenceTd"><p>View data on XeniToken transfers/day for the last 30 days</p></td><td class="confluenceTd"><p>JWT, startDate, endDate, pageNo, pageSize</p></td><td class="confluenceTd"><p>Fetch the token transfers/day on the platform</p></td><td class="confluenceTd"><p>[Date, amount]</p></td><td class="confluenceTd"><p>&nbsp;</p></td></tr><tr><td class="confluenceTd"><p>Dashboard</p></td><td class="confluenceTd"><p>/redeemed/history</p></td><td class="confluenceTd"><p>Admin</p></td><td class="confluenceTd"><p>View Redeemed Fiat/day on the platform</p></td><td class="confluenceTd"><p>JWT, startDate, endDate, pageNo, pageSize</p></td><td class="confluenceTd"><p>Fetch the redeemed fiat/day on the platform</p></td><td class="confluenceTd"><p>[Date, amount]</p></td><td class="confluenceTd"><p>&nbsp;</p></td></tr><tr><td class="confluenceTd"><p>Dashboard</p></td><td class="confluenceTd"><p>/user/bestseller/list</p></td><td class="confluenceTd"><p>Admin/User</p></td><td class="confluenceTd"><p>Get the bestsellers on the platform or for a particular user.<br />Bestsellers are the users who have generated the most revenue in the current month.<br />Most Revenue = Sum(bookings.amount) is highest</p></td><td class="confluenceTd"><p>role, JWT, pageNo, pageSize</p></td><td class="confluenceTd"><p>&nbsp;</p></td><td class="confluenceTd"><p>&nbsp;</p></td><td class="confluenceTd"><p>&nbsp;</p></td></tr><tr><td class="confluenceTd"><p>Dashboard</p></td><td class="confluenceTd"><p>/booking/list</p></td><td class="confluenceTd"><p>Admin/User</p></td><td class="confluenceTd"><p>Get a list of the most recent bookings<br />Admin will be able to see all bookings on the platform</p></td><td class="confluenceTd"><p>JWT, pageNo, pageSize</p></td><td class="confluenceTd"><p>&nbsp;</p></td><td class="confluenceTd"><p>[Booking ID, Amount, Type, Settlement Status]</p></td><td class="confluenceTd"><p>For users, will provide user specific bookings</p></td></tr><tr><td class="confluenceTd"><p>Dashboard</p></td><td class="confluenceTd"><p>/booking/search</p></td><td class="confluenceTd"><p>Admin/User</p></td><td class="confluenceTd"><p>Search a booking by its ID</p></td><td class="confluenceTd"><p>keyword, JWT</p></td><td class="confluenceTd"><p>&nbsp;</p></td><td class="confluenceTd"><p>List of Booking Ids matching a given ID</p></td><td class="confluenceTd"><p>For users, will provide user specific bookings</p></td></tr><tr><td class="confluenceTd"><p>Dashboard</p></td><td class="confluenceTd"><p>/booking/details</p></td><td class="confluenceTd"><p>Admin/User</p></td><td class="confluenceTd"><p>Get the details of a specific booking</p></td><td class="confluenceTd"><p>JWT, booking Id</p></td><td class="confluenceTd"><p>&nbsp;</p></td><td class="confluenceTd"><p>Booking ID, Type, Amount, Booking Status, Settlement Status,<br />Redeemed Amount, Booking Date, OTA Fees, Consolidator Fees, Supplier Fees</p></td><td class="confluenceTd"><p>For users, will provide user specific bookings</p></td></tr><tr><td class="confluenceTd"><p>Dashboard</p></td><td class="confluenceTd"><p>/settlement/list</p></td><td class="confluenceTd"><p>Admin/User</p></td><td class="confluenceTd"><p>Get a list of latest settlements for the admin or user<br />Admin will be able to see all settlements on the platform</p></td><td class="confluenceTd"><p>JWT<br />Filters: Booking Id, Status, Timestamp</p></td><td class="confluenceTd"><p>&nbsp;</p></td><td class="confluenceTd"><p>[Booking ID, Amount, From, To, Timestamp, Status, Transaction Hash]</p></td><td class="confluenceTd"><p>&nbsp;</p></td></tr><tr><td class="confluenceTd"><p>Dashboard</p></td><td class="confluenceTd"><p>/redeemed/list</p></td><td class="confluenceTd"><p>Admin/User</p></td><td class="confluenceTd"><p>Get list of all redemptions for the admin or user<br />Admin will be able to see all redemptions on the platform</p></td><td class="confluenceTd"><p>JWT<br />Filters: Booking Id, Status, Timestamp, userId</p></td><td class="confluenceTd"><p>&nbsp;</p></td><td class="confluenceTd"><p>[Booking Id, Amount, Timestamp, Status]</p></td><td class="confluenceTd"><p>&nbsp;</p></td></tr><tr><td class="confluenceTd"><p>User Dashboard</p></td><td class="confluenceTd"><p>/user/update</p></td><td class="confluenceTd"><p>User</p></td><td class="confluenceTd"><p>Update user details such as name, bank, company etc.</p></td><td class="confluenceTd"><p>JWT, Details</p></td><td class="confluenceTd"><p>&nbsp;</p></td><td class="confluenceTd"><p>msg: User details updated</p></td><td class="confluenceTd"><p>&nbsp;</p></td></tr><tr><td class="confluenceTd"><p>User Dashboard</p></td><td class="confluenceTd"><p>/booking/redeem</p></td><td class="confluenceTd"><p>User</p></td><td class="confluenceTd"><p>Select multiple bookings that have been settled and redeem those</p></td><td class="confluenceTd"><p>JWT, [bookingId, amount]</p></td><td class="confluenceTd"><p>&nbsp;</p></td><td class="confluenceTd"><p>&nbsp;</p></td><td class="confluenceTd"><p>Currently, we are allowing full redeem. In the future, when partial redeem is required, this API will use the amount field</p></td></tr><tr><td class="confluenceTd"><p>User Dashboard</p></td><td class="confluenceTd"><p>/user/password</p></td><td class="confluenceTd"><p>User</p></td><td class="confluenceTd"><p>Update a user's password</p></td><td class="confluenceTd"><p>Password, JWT</p></td><td class="confluenceTd"><p>Updates the database with the new password</p></td><td class="confluenceTd"><p>msg: Password updated</p></td><td class="confluenceTd"><p>&nbsp;</p></td></tr><tr><td class="confluenceTd"><p>User Dashboard</p></td><td class="confluenceTd"><p>/user/balance</p></td><td class="confluenceTd"><p>User</p></td><td class="confluenceTd"><p>View quick stats about their token</p></td><td class="confluenceTd"><p>JWT</p></td><td class="confluenceTd"><p>Fetch details from the database</p></td><td class="confluenceTd"><p>Settled (Balance), Redeemed, Pending to be redeemed, Pending to be settled</p></td><td class="confluenceTd"><p>&nbsp;</p></td></tr></tbody></table></div><h2 id="XeniPayRequirementSpecification-Assumptions"><img class="emoticon emoticon-blue-star" data-emoji-id="1f914" data-emoji-shortname=":thinking:" data-emoji-fallback="\uD83E\uDD14" src="images/icons/emoticons/72/1f914.png" width="16" height="16" data-emoticon-name="blue-star" alt="(blue star)"/>&nbsp;Assumptions</h2><p /><h2 id="XeniPayRequirementSpecification-OpenQuestions">&nbsp;<img class="emoticon emoticon-question" data-emoji-id="atlassian-question_mark" data-emoji-shortname=":question_mark:" data-emoji-fallback=":question_mark:" src="images/icons/emoticons/help_16.png" width="16" height="16" data-emoticon-name="question" alt="(question)"/>&nbsp;Open Questions</h2><div class="table-wrap"><table data-layout="full-width" data-local-id="725368f2-dd46-46fa-8f3e-6a6f7d6b07a8" class="confluenceTable"><colgroup><col style="width: 440.0px;" /><col style="width: 101.0px;" /><col style="width: 318.0px;" /><col style="width: 101.0px;" /></colgroup><tbody><tr><th data-highlight-colour="var(--ds-background-neutral, #F4F5F7)" class="confluenceTh"><p><strong>Question</strong></p></th><th data-highlight-colour="var(--ds-background-neutral, #F4F5F7)" class="confluenceTh"><p><strong>Assignee</strong></p></th><th data-highlight-colour="var(--ds-background-neutral, #F4F5F7)" class="confluenceTh"><p><strong>Answer</strong></p></th><th data-highlight-colour="var(--ds-background-neutral, #F4F5F7)" class="confluenceTh"><p><strong>Status</strong></p></th></tr><tr><td class="confluenceTd"><p>Can only OTAs make a booking or Supplier/Consolidators can do that too?</p></td><td class="confluenceTd"><p><a class="confluence-userlink user-mention" data-account-id="604a8dc603ceda0069bd747b" href="https://xeni-workspace.atlassian.net/wiki/people/604a8dc603ceda0069bd747b?ref=confluence" target="_blank" data-base-url="https://xeni-workspace.atlassian.net/wiki">vaibhav (Unlicensed)</a></p></td><td class="confluenceTd"><p>Only OTAs</p></td><td class="confluenceTd"><p>Done</p></td></tr><tr><td class="confluenceTd"><p>Who is responsible for storing user details such as Name, Email, etc?</p></td><td class="confluenceTd"><p><a class="confluence-userlink user-mention" data-account-id="604a8dc603ceda0069bd747b" href="https://xeni-workspace.atlassian.net/wiki/people/604a8dc603ceda0069bd747b?ref=confluence" target="_blank" data-base-url="https://xeni-workspace.atlassian.net/wiki">vaibhav (Unlicensed)</a></p></td><td class="confluenceTd"><p>XeniPay</p></td><td class="confluenceTd"><p>Done</p></td></tr><tr><td class="confluenceTd"><p>Does XeniPay have to create Hedera wallet for all its users?</p></td><td class="confluenceTd"><p><a class="confluence-userlink user-mention" data-account-id="604a8dc603ceda0069bd747b" href="https://xeni-workspace.atlassian.net/wiki/people/604a8dc603ceda0069bd747b?ref=confluence" target="_blank" data-base-url="https://xeni-workspace.atlassian.net/wiki">vaibhav (Unlicensed)</a></p></td><td class="confluenceTd"><p>XeniPay</p></td><td class="confluenceTd"><p>Done</p></td></tr><tr><td class="confluenceTd"><p>Are suppliers and consolidators separate entities that can join XeniPay independent of an OTA?</p></td><td class="confluenceTd"><p><a class="confluence-userlink user-mention" data-account-id="604a8dc603ceda0069bd747b" href="https://xeni-workspace.atlassian.net/wiki/people/604a8dc603ceda0069bd747b?ref=confluence" target="_blank" data-base-url="https://xeni-workspace.atlassian.net/wiki">vaibhav (Unlicensed)</a></p></td><td class="confluenceTd"><p>Separate Entities</p></td><td class="confluenceTd"><p>Done</p></td></tr><tr><td class="confluenceTd"><p>Who has the rights to do a booking?</p></td><td class="confluenceTd"><p>&nbsp;</p></td><td class="confluenceTd"><p>OTA</p></td><td class="confluenceTd"><p>Done</p></td></tr><tr><td class="confluenceTd"><p>Who will provide the booking details and fee breakup?</p></td><td class="confluenceTd"><p>&nbsp;</p></td><td class="confluenceTd"><p>OTA</p></td><td class="confluenceTd"><p>Done</p></td></tr><tr><td class="confluenceTd"><p>What details should we store in XeniPay Database?</p><p>What details do we store in HCS?</p></td><td class="confluenceTd"><p><a class="confluence-userlink user-mention" data-account-id="604a8dc603ceda0069bd747b" href="https://xeni-workspace.atlassian.net/wiki/people/604a8dc603ceda0069bd747b?ref=confluence" target="_blank" data-base-url="https://xeni-workspace.atlassian.net/wiki">vaibhav (Unlicensed)</a></p></td><td class="confluenceTd"><p>&nbsp;</p></td><td class="confluenceTd"><p>Pending</p></td></tr><tr><td class="confluenceTd"><p>Should we re-distribute XeniTokens on each event(create, cancel, rebook) or only when the booking is to be settled?</p></td><td class="confluenceTd"><p><a class="confluence-userlink user-mention" data-account-id="604a8dc603ceda0069bd747b" href="https://xeni-workspace.atlassian.net/wiki/people/604a8dc603ceda0069bd747b?ref=confluence" target="_blank" data-base-url="https://xeni-workspace.atlassian.net/wiki">vaibhav (Unlicensed)</a></p></td><td class="confluenceTd"><p>Only during settlement</p></td><td class="confluenceTd"><p>Done</p></td></tr><tr><td class="confluenceTd"><p>Where is XeniPay&rsquo;s Escrow account? ConnexPay?</p></td><td class="confluenceTd"><p><a class="confluence-userlink user-mention" data-account-id="604a8dc603ceda0069bd747b" href="https://xeni-workspace.atlassian.net/wiki/people/604a8dc603ceda0069bd747b?ref=confluence" target="_blank" data-base-url="https://xeni-workspace.atlassian.net/wiki">vaibhav (Unlicensed)</a></p></td><td class="confluenceTd"><p>ConnexPay</p></td><td class="confluenceTd"><p>Done</p></td></tr><tr><td class="confluenceTd"><p>What are the requirements for a bank account?</p></td><td class="confluenceTd"><p><a class="confluence-userlink user-mention" data-account-id="604a8dc603ceda0069bd747b" href="https://xeni-workspace.atlassian.net/wiki/people/604a8dc603ceda0069bd747b?ref=confluence" target="_blank" data-base-url="https://xeni-workspace.atlassian.net/wiki">vaibhav (Unlicensed)</a></p></td><td class="confluenceTd"><p>Account No, Name, Swift Code/IFSC Code</p></td><td class="confluenceTd"><p>Done</p></td></tr><tr><td class="confluenceTd"><p>Need to finalize the content of the email. Who will provide the content for the email?</p></td><td class="confluenceTd"><p><a class="confluence-userlink user-mention" data-account-id="604a8dc603ceda0069bd747b" href="https://xeni-workspace.atlassian.net/wiki/people/604a8dc603ceda0069bd747b?ref=confluence" target="_blank" data-base-url="https://xeni-workspace.atlassian.net/wiki">vaibhav (Unlicensed)</a></p></td><td class="confluenceTd"><p>Use a default template for now.</p></td><td class="confluenceTd"><p>Pending</p></td></tr><tr><td class="confluenceTd"><p>What is the format of the invite code? Is it different for OTA/Supplier?</p></td><td class="confluenceTd"><p><a class="confluence-userlink user-mention" data-account-id="70121:a97e7c28-31d6-47c1-9949-46a9687d63ff" href="https://xeni-workspace.atlassian.net/wiki/people/70121:a97e7c28-31d6-47c1-9949-46a9687d63ff?ref=confluence" target="_blank" data-base-url="https://xeni-workspace.atlassian.net/wiki">User d63ff</a></p></td><td class="confluenceTd"><p>The format would be <a class="external-link" href="http://www.xenipay.com/random8CharString" rel="nofollow">http://www.xenipay.com/random8CharString</a></p></td><td class="confluenceTd"><p>Done</p></td></tr><tr><td class="confluenceTd"><p>What is the API Key Format?</p></td><td class="confluenceTd"><p><a class="confluence-userlink user-mention" data-account-id="70121:a97e7c28-31d6-47c1-9949-46a9687d63ff" href="https://xeni-workspace.atlassian.net/wiki/people/70121:a97e7c28-31d6-47c1-9949-46a9687d63ff?ref=confluence" target="_blank" data-base-url="https://xeni-workspace.atlassian.net/wiki">User d63ff</a></p></td><td class="confluenceTd"><p>The API key and the secret key will be a string of random characters just like any API key.</p></td><td class="confluenceTd"><p>Done</p></td></tr><tr><td class="confluenceTd"><p>Will the API key expire?</p></td><td class="confluenceTd"><p><a class="confluence-userlink user-mention" data-account-id="70121:a97e7c28-31d6-47c1-9949-46a9687d63ff" href="https://xeni-workspace.atlassian.net/wiki/people/70121:a97e7c28-31d6-47c1-9949-46a9687d63ff?ref=confluence" target="_blank" data-base-url="https://xeni-workspace.atlassian.net/wiki">User d63ff</a></p></td><td class="confluenceTd"><p>The API key does not expire. The admin or the user can re-generate API keys as per requirement</p></td><td class="confluenceTd"><p>Done</p></td></tr><tr><td class="confluenceTd"><p>Is it just API Key, or will there be any secret associated with it?</p></td><td class="confluenceTd"><p><a class="confluence-userlink user-mention" data-account-id="70121:a97e7c28-31d6-47c1-9949-46a9687d63ff" href="https://xeni-workspace.atlassian.net/wiki/people/70121:a97e7c28-31d6-47c1-9949-46a9687d63ff?ref=confluence" target="_blank" data-base-url="https://xeni-workspace.atlassian.net/wiki">User d63ff</a></p></td><td class="confluenceTd"><p>There will be a secret key associated with the API key</p></td><td class="confluenceTd"><p>Done</p></td></tr><tr><td class="confluenceTd"><p>What encryption is used for storing the password?</p></td><td class="confluenceTd"><p><a class="confluence-userlink user-mention" data-account-id="70121:a97e7c28-31d6-47c1-9949-46a9687d63ff" href="https://xeni-workspace.atlassian.net/wiki/people/70121:a97e7c28-31d6-47c1-9949-46a9687d63ff?ref=confluence" target="_blank" data-base-url="https://xeni-workspace.atlassian.net/wiki">User d63ff</a></p></td><td class="confluenceTd"><p>We will not be using encryption. Instead, we will store the password hash and compare it for authentication</p></td><td class="confluenceTd"><p>Done</p></td></tr><tr><td class="confluenceTd"><p>How is the user session maintained?</p></td><td class="confluenceTd"><p><a class="confluence-userlink user-mention" data-account-id="70121:a97e7c28-31d6-47c1-9949-46a9687d63ff" href="https://xeni-workspace.atlassian.net/wiki/people/70121:a97e7c28-31d6-47c1-9949-46a9687d63ff?ref=confluence" target="_blank" data-base-url="https://xeni-workspace.atlassian.net/wiki">User d63ff</a></p></td><td class="confluenceTd"><p>The user session is maintained using JWT tokens and the token is stored as cookies</p></td><td class="confluenceTd"><p>Done</p></td></tr><tr><td class="confluenceTd"><p>Are we storing the user activity like login attempts etc. anywhere?</p></td><td class="confluenceTd"><p><a class="confluence-userlink user-mention" data-account-id="70121:a97e7c28-31d6-47c1-9949-46a9687d63ff" href="https://xeni-workspace.atlassian.net/wiki/people/70121:a97e7c28-31d6-47c1-9949-46a9687d63ff?ref=confluence" target="_blank" data-base-url="https://xeni-workspace.atlassian.net/wiki">User d63ff</a></p></td><td class="confluenceTd"><p>We have not planned on storing anything as such for now. Does this need to be included?</p></td><td class="confluenceTd"><p>Done</p></td></tr><tr><td class="confluenceTd"><p>Do we need to store user activity such as login attempts?</p></td><td class="confluenceTd"><p><a class="confluence-userlink user-mention" data-account-id="604a8dc603ceda0069bd747b" href="https://xeni-workspace.atlassian.net/wiki/people/604a8dc603ceda0069bd747b?ref=confluence" target="_blank" data-base-url="https://xeni-workspace.atlassian.net/wiki">vaibhav (Unlicensed)</a></p></td><td class="confluenceTd"><p>No</p></td><td class="confluenceTd"><p>Done</p></td></tr><tr><td class="confluenceTd"><p>Bank Details etc. should be editable later on if the user does not provide them while sign up, so we will need an end point to edit it as well</p></td><td class="confluenceTd"><p><a class="confluence-userlink user-mention" data-account-id="70121:a97e7c28-31d6-47c1-9949-46a9687d63ff" href="https://xeni-workspace.atlassian.net/wiki/people/70121:a97e7c28-31d6-47c1-9949-46a9687d63ff?ref=confluence" target="_blank" data-base-url="https://xeni-workspace.atlassian.net/wiki">User d63ff</a></p></td><td class="confluenceTd"><p>The endpoint is already listed (/user/update)</p></td><td class="confluenceTd"><p>Done</p></td></tr><tr><td class="confluenceTd"><p>What are the credentials for email service?</p></td><td class="confluenceTd"><p><a class="confluence-userlink user-mention" data-account-id="604a8dc603ceda0069bd747b" href="https://xeni-workspace.atlassian.net/wiki/people/604a8dc603ceda0069bd747b?ref=confluence" target="_blank" data-base-url="https://xeni-workspace.atlassian.net/wiki">vaibhav (Unlicensed)</a></p></td><td class="confluenceTd"><p>&nbsp;</p></td><td class="confluenceTd"><p>Pending</p></td></tr><tr><td class="confluenceTd"><p>Does the admin need to be notified via email that the invitation email has been sent?</p></td><td class="confluenceTd"><p><a class="confluence-userlink user-mention" data-account-id="604a8dc603ceda0069bd747b" href="https://xeni-workspace.atlassian.net/wiki/people/604a8dc603ceda0069bd747b?ref=confluence" target="_blank" data-base-url="https://xeni-workspace.atlassian.net/wiki">vaibhav (Unlicensed)</a></p></td><td class="confluenceTd"><p>&nbsp;</p></td><td class="confluenceTd"><p>Pending</p></td></tr></tbody></table></div><h2 id="XeniPayRequirementSpecification-DataPointsRequired">Data Points Required</h2><div class="table-wrap"><table data-layout="full-width" data-local-id="a3dac756-6560-4e72-bd6e-8d0788d1887c" class="confluenceTable"><colgroup><col style="width: 426.0px;" /><col style="width: 422.0px;" /><col style="width: 422.0px;" /></colgroup><tbody><tr><th data-highlight-colour="var(--ds-background-neutral, #F4F5F7)" class="confluenceTh"><p><strong>Process</strong></p></th><th data-highlight-colour="var(--ds-background-neutral, #F4F5F7)" class="confluenceTh"><p><strong>Current</strong></p></th><th data-highlight-colour="var(--ds-background-neutral, #F4F5F7)" class="confluenceTh"><p><strong>Comments</strong></p></th></tr><tr><td class="confluenceTd"><p>User Onboarding</p></td><td class="confluenceTd"><ul><li><p>User Details</p><ul><li><p>First Name</p></li><li><p>Last Name</p></li></ul></li><li><p>Business Details</p><ul><li><p>Legal Business Name</p></li><li><p>CRN</p></li><li><p>VAT Number</p></li><li><p>Registered Business Address (3 lines)</p></li><li><p>Country</p></li><li><p>Postal Code</p></li><li><p>Industry</p></li><li><p>Business Website</p></li></ul></li><li><p>Bank Details</p><ul><li><p>Currency</p></li><li><p>Bank Country</p></li><li><p>Bank Name</p></li><li><p>Swift Code</p></li><li><p>Account No.</p></li></ul></li></ul></td><td class="confluenceTd"><p>Finalized</p></td></tr><tr><td class="confluenceTd"><p>Creating Booking</p></td><td class="confluenceTd"><ul><li><p>Booking ID</p></li><li><p>Booking Type (Hotel, Flight, Train, etc.)</p></li><li><p>Refundable?</p></li><li><p>Amount</p></li><li><p>OTA Fees</p></li><li><p>Consolidator Fees</p></li><li><p>Supplier Fees</p></li><li><p>Currency</p></li><li><p>Customer Details</p><ul><li><p>Name</p></li></ul></li><li><p>Booking Entity</p><ul><li><p>Hotel / Flight name</p></li></ul></li></ul><p>Please mention all other required fields. Also, which data needs to be stored on XeniPay and HCS.</p></td><td class="confluenceTd"><p>Finalized</p></td></tr><tr><td class="confluenceTd"><p>Tokenization</p></td><td class="confluenceTd"><ul><li><p>Initial Supply</p></li><li><p>Token Name</p></li><li><p>Token Symbol</p></li><li><p>Decimals</p></li><li><p>Can mint and burn?</p></li></ul></td><td class="confluenceTd"><p /></td></tr></tbody></table></div>
                    </div>

                                        <div class="pageSection group">
                        <div class="pageSectionHeader">
                            <h2 id="attachments" class="pageSectionTitle">Attachments:</h2>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/542181143/542184753.jpg">Screenshot_2022-08-23_12-32-07.jpg</a> (image/jpeg)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/542181143/542184721.png">image-20221114-100029.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/542181143/542184809.png">image-20221114-102021.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/542181143/542185373.png">image-20221114-102030.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/542181143/542185385.png">registerUser.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/542181143/542185329.png">activateUser.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/542181143/542185317.png">editUser.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/542181143/542185437.png">getUser.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/542181143/542185569.png">createBooking.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/542181143/542185365.png">cancelBooking.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/542181143/542185357.png">reBooking.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/542181143/542185461.png">settleBooking.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/542181143/542185453.png">cashoutBooking.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/542181143/542184733.png">RedeemEarnings v1.0.0.png</a> (image/png)
                                <br/>
                                                    </div>
                    </div>
                    
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Jun 24, 2024 07:03</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
